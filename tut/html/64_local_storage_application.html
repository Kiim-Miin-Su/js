<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>change_theme</title>
</head>

<body>
    <button onclick="toggle_theme()">change_theme</button>
    <p>theme now is <span id="theme_name"></span></p>
</body>

<script>
    const body = document.body;

    function apply_theme(theme) {
        if (theme === "dark") {
            body.style.backgroundColor = "black";
            body.style.color = "white";
        } else {
            body.style.backgroundColor = "white";
            body.style.color = "black";
        }
        document.getElementById("theme_name").innerText = theme;
    }

    function toggle_theme() {
        const current_theme = localStorage.getItem("theme") || "light";
        const next = current_theme === "light" ? "dark" : "light";
        localStorage.setItem("theme", next);
        apply_theme(next);
    }

    apply_theme(localStorage.getItem("theme") || "light");
</script>

</html>